<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>3D Scene-Adaptive Trajectory-Controllable Human Image Animation with Camera Movement</title>
  <meta name="description" content="Demo page for 3D Scene-Adaptive Trajectory-Controllable Human Image Animation with Camera Movement">
  
  <!-- 添加 MathJax 支持 -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js " async></script>
  
  <style>
    :root{
      --bg: #ffffff;
      --text: #3a8fdc; /* 浅蓝色 */
      --muted: #4b5563;
      --accent: #000000; /* black buttons */
      --card: #ffffff;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial; margin:0;background:var(--bg);color:var(--text); text-align:center}
    .wrap{max-width:1100px;margin:0 auto;padding:28px}
    header{margin-bottom:28px}
    h1{margin:0;font-size:36px;line-height:1.2; color: #000000}
    .authors{margin-top:12px;color:#3a8fdc;font-size:18px;line-height:1.4}
    
    /* 链接行样式 - 增加底部间距 */
    .links-row{
      margin-top:16px;
      margin-bottom:40px; /* 增大与下方内容的间距 */
    }
    .btn-black{display:inline-block;background:var(--accent);color:#fff;padding:8px 14px;border-radius:8px;text-decoration:none;font-size:14px;margin:0 6px}

    /* 方法标识图标样式 - 移到标题上方 */
    .method-icon {
      margin-bottom: 20px; /* 图标与标题之间的间距 */
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .method-icon img {
      max-width: 120px; /* 调整图标大小 */
      height: auto;
    }

    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;align-items:center}
    .video-card{background:transparent;border-radius:8px;overflow:hidden;display:flex;align-items:center;justify-content:center}
    .video-card video,.video-card img{width:100%;height:100%;display:block;object-fit:cover;border-radius:6px}

    /* Abstract 部分样式 */
    .abstract-section {
      margin-top: 30px;
      margin-bottom: 30px;
    }
    .abstract-title {
      font-size: 28px;
      color: #000000;
      margin-bottom: 15px;
      text-align: left;
    }
    .abstract-description {
      text-align: justify;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.6;
      max-width: 100%;
    }

    /* Method 部分样式 */
    .method-section {
      margin-top: 30px;
      margin-bottom: 30px;
    }
    .method-title {
      font-size: 28px;
      color: #000000;
      margin-bottom: 15px;
      text-align: left;
    }
    .method-image {
      display: flex;
      justify-content: center;
      margin-bottom: 15px;
    }
    .method-image img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
    }
    .method-description {
      text-align: justify;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.6;
      max-width: 100%;
    }

    /* 新增样式 */
    .ablation-section{margin-top:40px}
    .ablation-title{
      font-size:28px; 
      color:#000000; 
      margin-bottom:10px; 
      text-align:left;
    }
    
    /* Grid 部分的描述文字样式 */
    .section-description{
      text-align: justify;
      color:var(--muted);
      font-size:14px;
      margin-top:20px;
      margin-bottom:30px;
      line-height:1.6;
      max-width: 100%;
    }
    
    /* 案例包装器 */
    .case-wrapper{display:flex; align-items:center; gap:15px; margin-bottom:10px}
    
    /* 仅第一个消融实验的案例包装器 */
    .case-wrapper-ablation1 {
      margin-bottom: 2px;
    }
    
    /* 竖直案例标签 */
    .case-label{
      writing-mode: vertical-rl;
      text-orientation: mixed;
      transform: rotate(180deg);
      color:#3a8fdc;
      font-size:16px;
      font-weight:bold;
      height: 240px;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:0 3px;
      flex-shrink:0;
    }
    
    /* 新增：视频项容器（统一两个实验的结构） */
    .video-item-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px; /* 统一间距：视频与标签之间的距离 */
    }
    
    /* 新增：视频对容器（第一个实验用） */
    .video-pair {
      display: flex;
      gap: 8px; /* 两个视频之间的间距 */
    }
    
    /* 新增：视频标签样式（减小30%字体）- 使用CSS注释 */
    .video-label {
      text-align: center;
      color: var(--muted);
      font-size: 12px;
      font-weight: 500;
    }
    
    /* Ablation视频容器 */
    .ablation-videos{
      display:flex;
      justify-content:center;
      align-items:flex-start;
      gap: 20px; /* 增大组间间距，让分组更明显 */
      flex-wrap:nowrap;
      flex:1;
    }
    
    /* 四个视频的特殊布局 */
    .ablation-videos.four-videos {
      gap: 30px; /* 更大间距区分两组 */
    }
    
    /* 修改：视频项样式 */
    .ablation-videos .video-item{
      flex:0 0 auto;
      min-width:0;
    }
    .ablation-videos .video-item video{
      height:180px;
      width:auto;
      border-radius:6px;
      display:block;
    }
    
    /* 四个视频的特殊布局 */
    .ablation-videos.four-videos .video-item video{
      max-width:240px;
    }
    
    /* 三个视频的布局 */
    .ablation-videos.three-videos .video-item video{
      max-width:320px;
    }

    /* 消融实验描述文字样式 */
    .ablation-description{
      text-align: justify;
      color:var(--muted);
      font-size:14px;
      margin-top:10px;
      margin-bottom:40px;
      line-height:1.6;
      max-width:100%;
    }

    /* 新增：单视频比较布局样式 */
    .comparison-section {
      margin-top: 40px;
    }
    .comparison-section .ablation-videos {
      flex-direction: column;
      gap: 20px;
    }
    .comparison-section .video-item video {
      max-width: 100%;
      height: auto;
      max-height: 450px;
    }

    /* 修改：调整Qualitative Comparison标题与视频的间距 */
    .comparison-section .ablation-title {
      margin-bottom: 50px; /* 增大标题与视频间距 */
    }

    /* 修改：调整Qualitative Comparison视频与描述文字的间距 */
    .comparison-section .video-container {
      margin-bottom: 40px; /* 增大视频与下方文字间距 */
    }

    /* 修改：Qualitative Comparison描述文字样式 - 两端对齐，不加粗 */
    .comparison-section .comparison-description {
      color: #000000; /* 黑色文字 */
      margin-top: 30px; /* 增大视频与文字间距 */
      text-align: justify; /* 两端对齐 */
      font-weight: normal; /* 确保不加粗 */
    }

    /* 新增：More result部分样式 */
    .more-result-section {
      margin-top: 50px;
    }

    footer{margin-top:22px;color:var(--muted);font-size:13px;text-align:center}

    @media (max-width:800px){
      .grid{grid-template-columns:1fr}
      .case-wrapper{flex-direction:column; align-items:center}
      .case-label{
        writing-mode: horizontal-tb;
        transform: none;
        height:auto;
        margin-bottom:10px;
      }
      .ablation-videos{flex-direction:column; align-items:center; flex-wrap:wrap}
      .ablation-videos .video-item video{
        width:100%;
        height:auto;
        max-width:400px;
      }
      .comparison-section .ablation-videos {
        flex-direction: column;
      }
    }
    /* 仅作用于第一个 Ablation（ground-adaptive 3D motion retargeting） */
    .case-wrapper-ablation1 > .case-label {
      min-height: 200px;   /* 你现在想要的高度 */
      height: auto;        /* 覆盖原本的 240px */
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <!-- 方法标识图标移到标题上方 -->
      <div class="method-icon">
        <img src="assets/images/i.png" alt="Method Icon">
      </div>
      <h1>3D Scene-Adaptive Trajectory-Controllable<br>Human Image Animation with Camera Movement</h1>
      <div class="authors">#################################</div>
      <div class="links-row">
        <a class="btn-black" href="#" target="_blank" rel="noopener">arXiv</a>
        <a class="btn-black" href="https://github.com/robinhood256100/web-disp  " target="_blank" rel="noopener">GitHub</a>
      </div>
    </header>

    <main>
      <section class="grid" id="gallery">
        <!-- 交换了视频顺序，现在result2.mp4在前 -->
        <div class="video-card">
          <video autoplay muted playsinline loop>
            <source src="assets/videos/result2.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>

        <div class="video-card">
          <img src="assets/images/p1.png" alt="Method Overview" style="width:100%; height:100%; display:block; object-fit:cover; border-radius:6px;">
        </div>

        <div class="video-card">
          <video autoplay muted playsinline loop>
            <source src="assets/videos/result.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>
      </section>

      <!-- Grid 部分的描述文字（紧接在视频/图片网格下方） -->
      <div class="section-description">
        <strong>3STC-HIA</strong> is an inference-time guidance-based human image animation method that generates scene-adaptive, trajectory-controllable human motion videos with camera movement. Given a reference image, target actions, a human motion trajectory, and a camera trajectory, the method enables human motion retargeting with ground-adaptive trajectory control, while enhancing effect of camera movement through point-cloud-based scene visibility analysis. In the top row, a subject is shown running on flat terrain along motion trajectory 1, captured from varying viewpoints defined by the camera trajectory. In contrast, the bottom row illustrates the same running action performed on a sloped surface along motion trajectory 2 under the same camera views, where the character automatically adjusts its altitude and body orientation to adapt to the scene's geometry.
      </div>

      <!-- Abstract 部分 -->
      <section class="abstract-section">
        <h2 class="abstract-title">Abstract</h2>
        <div class="abstract-description">
          Human image animation, which aims to generate a video of a certain reference subject following a provided action sequence, has received extensive research interest. As diffusion-based video foundation models develop, existing animation works have began to upgrade the guidance information from 2D skeleton/pose to 3D modeling conditions. Despite achieving reasonable results, these approaches face challenges in synthesizing trajectory-controllable human motion within natural scene under changed camera views. In this work, we present a scene-adaptive human image animation framework that controls both human motion and camera trajectories within a reconstructed 3D environment for video generation. To achieve this, we first develop a ground-adaptive 3D motion retargeting approach to enable user-friendly motion trajectory control adapting to the changes of elevations of ground and orientations automatically. Then we design a viewpoint-adaptive latent fusion mechanism to inject point-cloud geometric priors through scene-visibility masking, providing precise guidance for viewpoint changes under camera control. Experiments on two standard human image animation benchmark datasets demonstrate remarkable improvements of our method over the state of the arts in related video generation metics.
        </div>
      </section>

      <!-- Method 部分 -->
      <section class="method-section">
        <h2 class="method-title">Method Overview</h2>
        <div class="method-image">
          <img src="assets/images/m.png" alt="Method Pipeline">
        </div>
        <div class="method-description">
          <strong>The pipeline of our 3STC-HIA.</strong> We first align the target action sequence ${\mathbf{V}n}{n=1}^N$ with the reconstructed point cloud of the reference image $I^{\mathrm{ref}}$ in the world-coordinate space. The subject in $I^{\mathrm{ref}}$ (e.g., the person) is then animated to follow the user-defined 2D motion trajectory $T_{2D}$ while adapting to the varying elevation of the scene ground. During the subsequent generation stage, at each diffusion timestep, the predicted latents are fused with the noisy latents using guidance from the viewpoint-adaptive visible scene point cloud. This is achieved through a scene-visibility mask, which enhances camera control along the specified trajectory $\mathcal{C}$.
        </div>
      </section>

      <!-- 新增 Ablation 部分 -->
      <section class="ablation-section">
        <h2 class="ablation-title">Ablation on ground-adaptive 3D motion retargeting</h2>
        
        <!-- 第一个消融实验的第一个案例 -->
        <div class="case-wrapper case-wrapper-ablation1">
          <div class="case-label">case-1</div>
          <div class="ablation-videos four-videos">
            <div class="video-item-container">
              <div class="video-pair">
                <div class="video-item">
                  <video autoplay muted playsinline loop>
                    <source src="web-video/ab0-1/c2.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                </div>
                <div class="video-item">
                  <video autoplay muted playsinline loop>
                    <source src="web-video/ab0-1/result2.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                </div>
              </div>
              <div class="video-label">Without ground adaptation(Penetration)</div>
            </div>
            <div class="video-item-container">
              <div class="video-pair">
                <div class="video-item">
                  <video autoplay muted playsinline loop>
                    <source src="web-video/ab0-1/c1.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                </div>
                <div class="video-item">
                  <video autoplay muted playsinline loop>
                    <source src="web-video/ab0-1/result1.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                </div>
              </div>
              <div class="video-label">With ground adaptation</div>
            </div>
          </div>
        </div>

        <!-- 第一个消融实验的第二个案例 -->
        <div class="case-wrapper case-wrapper-ablation1">
          <div class="case-label">case-2</div>
          <div class="ablation-videos four-videos">
            <div class="video-item-container">
              <div class="video-pair">
                <div class="video-item">
                  <video autoplay muted playsinline loop>
                    <source src="web-video/ab0-2/c2.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                </div>
                <div class="video-item">
                  <video autoplay muted playsinline loop>
                    <source src="web-video/ab0-2/result2.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                </div>
              </div>
              <div class="video-label">Without ground adaptation(floating)</div>
            </div>
            <div class="video-item-container">
              <div class="video-pair">
                <div class="video-item">
                  <video autoplay muted playsinline loop>
                    <source src="web-video/ab0-2/c1.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                </div>
                <div class="video-item">
                  <video autoplay muted playsinline loop>
                    <source src="web-video/ab0-2/result1.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                </div>
              </div>
              <div class="video-label">With ground adaptation</div>
            </div>
          </div>
        </div>
        
        <div class="ablation-description">
          Ablation on ground-adaptive 3D motion retargeting. Our method addresses floating or penetrating on steps and slopes while enabling the human movement to undulate with the ground.
        </div>

        <h2 class="ablation-title">Ablation on viewpoint-adaptive scene guided fusion for camera control</h2>
        
        <!-- 第二个消融实验的案例 -->
        <div class="case-wrapper">
          <div class="case-label">case-1</div>
          <div class="ablation-videos three-videos">
            <div class="video-item">
              <video autoplay muted playsinline loop>
                <source src="web-video/ab1-1/c.mp4" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </div>
            <div class="video-item-container">
              <div class="video-item">
                <video autoplay muted playsinline loop>
                  <source src="web-video/ab1-1/result2.mp4" type="video/mp4">
                  Your browser does not support the video tag.
                </video>
              </div>
              <div class="video-label">Without viewpoint-adaptive scene guidance</div>
            </div>
            <div class="video-item-container">
              <div class="video-item">
                <video autoplay muted playsinline loop>
                  <source src="web-video/ab1-1/result1.mp4" type="video/mp4">
                  Your browser does not support the video tag.
                </video>
              </div>
              <div class="video-label">With viewpoint-adaptive scene guidance</div>
            </div>
          </div>
        </div>

        <div class="case-wrapper">
          <div class="case-label">case-2</div>
          <div class="ablation-videos three-videos">
            <div class="video-item">
              <video autoplay muted playsinline loop>
                <source src="web-video/ab1-2/c.mp4" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </div>
            <div class="video-item-container">
              <div class="video-item">
                <video autoplay muted playsinline loop>
                  <source src="web-video/ab1-2/result2.mp4" type="video/mp4">
                  Your browser does not support the video tag.
                </video>
              </div>
              <div class="video-label">Without viewpoint-adaptive scene guidance</div>
            </div>
            <div class="video-item-container">
              <div class="video-item">
                <video autoplay muted playsinline loop>
                  <source src="web-video/ab1-2/result1.mp4" type="video/mp4">
                  Your browser does not support the video tag.
                </video>
              </div>
              <div class="video-label">With viewpoint-adaptive scene guidance</div>
            </div>
          </div>
        </div>

        <div class="case-wrapper">
          <div class="case-label">case-3</div>
          <div class="ablation-videos three-videos">
            <div class="video-item">
              <video autoplay muted playsinline loop>
                <source src="web-video/ab1-3/c.mp4" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </div>
            <div class="video-item-container">
              <div class="video-item">
                <video autoplay muted playsinline loop>
                  <source src="web-video/ab1-3/result2.mp4" type="video/mp4">
                  Your browser does not support the video tag.
                </video>
              </div>
              <div class="video-label">Without viewpoint-adaptive scene guidance</div>
            </div>
            <div class="video-item-container">
              <div class="video-item">
                <video autoplay muted playsinline loop>
                  <source src="web-video/ab1-3/result1.mp4" type="video/mp4">
                  Your browser does not support the video tag.
                </video>
              </div>
              <div class="video-label">With viewpoint-adaptive scene guidance</div>
            </div>
          </div>
        </div>
        
        <div class="ablation-description">
            When the camera pulls back to follow a forward-moving character, our method preserves correct background recession and perspective, avoiding first-frame dominance(case-2,case-3). Even under significant camera movement, it maintains smooth motion and physically consistent background(case-1).
        </div>
      </section>

      <!-- 新增 Qualitative Comparison 部分（调整间距和文字颜色） -->
      <section class="comparison-section">
        <h2 class="ablation-title">Qualitative Comparison</h2>
        
        <!-- 只保留视频 -->
        <div style="width: 100%; margin-bottom: 40px;">
          <video autoplay muted playsinline loop style="width: 100%; border-radius: 6px;">
            <source src="web-video/s.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>
        
        <!-- 文字颜色变为黑色，两端对齐 -->
        <div class="comparison-description" style="color: #000000;">
          Qualitative comparison of our method and baselines. The results of our method demonstrate coherent and natural human motion that maintains good physical consistency with the scene.
        </div>
      </section>

      <!-- 新增 More result 部分 -->
      <section class="more-result-section">
        <h2 class="ablation-title">Quantitative comparison</h2>
        <div class="comparison-description" style="color: #000000; text-align: justify; text-align: left;">
          For detailed results, please refer to the paper.
        </div>
      </section>
    </main>

    <footer>
      © 2025 — 3D Scene-Adaptive Trajectory-Controllable Human Image Animation with Camera Movement
    </footer>
  </div>

  <!-- ====== 新增脚本：仅针对第一组两个 case 强制调整间距（最小副作用，可删） ====== -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      try {
        // 仅选取 ablation-section 下，class 同时包含 case-wrapper 和 case-wrapper-ablation1 的元素（保持最小作用域）
        const els = Array.from(document.querySelectorAll('.ablation-section .case-wrapper.case-wrapper-ablation1'));
        // 如果至少有两个（case-1 和 case-2），只改这两个
        if (els.length >= 2) {
          const first = els[0], second = els[1];
          // 你想要的像素值：这里默认 4px（可以改为 2 / 0 / 6 等）
          const marginValue = '4px';
          // 先清除可能的 margin 折叠影响：把第一个下边距设小，把第二个上边距设小
          first.style.marginBottom = marginValue;
          second.style.marginTop = marginValue;
          // 作为保险：小幅向上移动第二行（视觉上更靠近第一行），不会改变内部布局
          second.style.position = 'relative';
          second.style.top = '-4px';
          // Debug 打印（可删除）
          console.log('Ablation spacing adjusted by script:', marginValue, 'second top -4px applied');
        } else {
          console.log('Ablation script: 找不到两个 case-wrapper.case-wrapper-ablation1 元素，found=', els.length);
        }
      } catch (e) {
        console.error('Ablation spacing script error:', e);
      }
    });
  </script>
  <!-- ====== 脚本结束 ====== -->

  <!-- No JS needed for autoplay display -->
</body>
</html>
